document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".website-switcher").forEach(function(e){const t=e.querySelector(".website-switcher__toggle"),n=e.querySelector(".website-switcher__dropdown");if(!t||!n)return;let i=!1;function o(){n.classList.add("is-animating-out"),t.setAttribute("aria-expanded","false"),setTimeout(function(){n.hidden=!0,n.classList.remove("is-animating-out")},200),i=!1}t.addEventListener("click",function(e){e.stopPropagation(),i=!i,i?function(){n.hidden=!1,n.classList.add("is-animating-in"),t.setAttribute("aria-expanded","true"),setTimeout(function(){n.classList.remove("is-animating-in")},200);const e=n.querySelector(".website-switcher__link");e&&setTimeout(function(){e.focus()},100)}():o()}),document.addEventListener("click",function(t){i&&!e.contains(t.target)&&o()}),document.addEventListener("keydown",function(e){i&&"Escape"===e.key&&(o(),t.focus())}),n.addEventListener("keydown",function(e){if(!i)return;const t=Array.from(n.querySelectorAll(".website-switcher__link")),o=t.indexOf(document.activeElement);"ArrowDown"===e.key?(e.preventDefault(),t[o<t.length-1?o+1:0].focus()):"ArrowUp"===e.key?(e.preventDefault(),t[o>0?o-1:t.length-1].focus()):"Home"===e.key?(e.preventDefault(),t[0].focus()):"End"===e.key&&(e.preventDefault(),t[t.length-1].focus())})})});